<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Batch (ahrocksdb.Rocksdb.Batch)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">ahrocksdb</a> &#x00BB; <a href="../index.html">Rocksdb</a> &#x00BB; Batch</nav><h1>Module <code>Rocksdb.Batch</code></h1><p>Batch processing RocksDB allows to batch operations through a dedicated batch object that must be fed to <a href="index.html#val-write"><code>write</code></a>. A batch object <a href="index.html#type-batch"><code>Batch.batch</code></a> is a collection of operation to run on a database. (like <a href="index.html#val-put"><code>Batch.put</code></a> or delete).</p></header><dl><dt class="spec type" id="type-batch"><a href="#type-batch" class="anchor"></a><code><span class="keyword">type</span> batch</code></dt><dd><p>An opaque batch request must be created through <a href="index.html#val-create"><code>create</code></a> and executed through <a href="index.html#val-write"><code>write</code></a></p></dd></dl><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : unit <span>&#45;&gt;</span> <a href="index.html#type-batch">batch</a></code></dt><dd><p><code>create</code> will create a batch job to be used to batch operation on the database.</p></dd></dl><dl><dt class="spec value" id="val-count"><a href="#val-count" class="anchor"></a><code><span class="keyword">val</span> count : <a href="index.html#type-batch">batch</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>count</code> number of operations in the batch object</p></dd></dl><dl><dt class="spec value" id="val-clear"><a href="#val-clear" class="anchor"></a><code><span class="keyword">val</span> clear : <a href="index.html#type-batch">batch</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>clear operations from the batch object</p></dd></dl><dl><dt class="spec value" id="val-put"><a href="#val-put" class="anchor"></a><code><span class="keyword">val</span> put : <a href="index.html#type-batch">batch</a> <span>&#45;&gt;</span> <span>key:string</span> <span>&#45;&gt;</span> <span>value:string</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>put batch key value</code> will take a <code>batch</code> job and stage the writing of the <code>key</code> key and <code>value</code> value in the batch job.</p></dd></dl><dl><dt class="spec value" id="val-write"><a href="#val-write" class="anchor"></a><code><span class="keyword">val</span> write : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Options/Write_options/index.html#type-t">Options.Write_options.t</a> <span>&#45;&gt;</span> <a href="index.html#type-batch">batch</a> <span>&#45;&gt;</span> <span><span>(unit, <a href="../index.html#type-error">error</a>)</span> Stdlib.result</span></code></dt><dd><p><code>write db write_options batch</code> takes a <code>db</code> handle, some <code>write_options</code> and a <code>batch</code> job and execute it on the database.</p></dd></dl><dl><dt class="spec value" id="val-simple_write_batch"><a href="#val-simple_write_batch" class="anchor"></a><code><span class="keyword">val</span> simple_write_batch : <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Options/Write_options/index.html#type-t">Options.Write_options.t</a> <span>&#45;&gt;</span> <span><span>(string * string)</span> list</span> <span>&#45;&gt;</span> <span><span>(unit, <a href="../index.html#type-error">error</a>)</span> Stdlib.result</span></code></dt><dd><p>A simple helper, will take a list of key_value and do a unique batch and write it to the database</p></dd></dl></div></body></html>